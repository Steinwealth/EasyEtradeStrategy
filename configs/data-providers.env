# === OPTIMIZED Data Provider Configuration ===
# High-performance data provider setup with intelligent caching and failover
# Last updated: 2025-01-27

# === PROVIDER PRIORITY ===
DATA_PRIORITY=etrade,alpha_vantage,yfinance
PRIMARY_DATA_PROVIDER=etrade
FALLBACK_PROVIDER=alpha_vantage
BACKUP_PROVIDER=yfinance

# === ETRADE CONFIGURATION ===
ETRADE_ENABLED=true
ETRADE_REAL_TIME_QUOTES=true
ETRADE_BATCH_QUOTES=true
ETRADE_DAILY_CALL_LIMIT=1180
ETRADE_RATE_LIMIT_CALLS_PER_MINUTE=100
ETRADE_TIMEOUT_SECONDS=10
ETRADE_RETRY_ATTEMPTS=3
ETRADE_COST_PER_MONTH=0

# ETrade Account Requirements
ETRADE_MIN_BALANCE=1000
ETRADE_MARKET_DATA_AGREEMENTS=true
ETRADE_PROFESSIONAL_STATUS=false

# ETrade Performance Optimization
ETRADE_CONNECTION_POOL_SIZE=10
ETRADE_KEEPALIVE_TIMEOUT=30
ETRADE_MAX_RETRIES=3
ETRADE_BACKOFF_FACTOR=2.0
ETRADE_CIRCUIT_BREAKER_ENABLED=true
ETRADE_CIRCUIT_BREAKER_THRESHOLD=5
ETRADE_CIRCUIT_BREAKER_TIMEOUT=60

# === ALPHA VANTAGE CONFIGURATION ===
ALPHA_VANTAGE_ENABLED=true
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here
ALPHA_VANTAGE_DAILY_LIMIT=1200
ALPHA_VANTAGE_RATE_LIMIT_MS=500
ALPHA_VANTAGE_TIMEOUT_SECONDS=15
ALPHA_VANTAGE_RETRY_ATTEMPTS=2
ALPHA_VANTAGE_COST_PER_MONTH=50

# Alpha Vantage Usage Strategy
ALPHA_VANTAGE_HISTORICAL_DATA=true
ALPHA_VANTAGE_TECHNICAL_INDICATORS=true
ALPHA_VANTAGE_REAL_TIME_FALLBACK=true
ALPHA_VANTAGE_PRE_MARKET_SCANNING=true

# Alpha Vantage Performance Optimization
ALPHA_VANTAGE_CONNECTION_POOL_SIZE=5
ALPHA_VANTAGE_KEEPALIVE_TIMEOUT=30
ALPHA_VANTAGE_MAX_RETRIES=2
ALPHA_VANTAGE_BACKOFF_FACTOR=1.5
ALPHA_VANTAGE_CIRCUIT_BREAKER_ENABLED=true
ALPHA_VANTAGE_CIRCUIT_BREAKER_THRESHOLD=3
ALPHA_VANTAGE_CIRCUIT_BREAKER_TIMEOUT=120

# === YAHOO FINANCE CONFIGURATION ===
YAHOO_FINANCE_ENABLED=true
YAHOO_FINANCE_RATE_LIMIT_MS=200
YAHOO_FINANCE_TIMEOUT_SECONDS=10
YAHOO_FINANCE_RETRY_ATTEMPTS=2
YAHOO_FINANCE_DELAYED_DATA=true
YAHOO_FINANCE_COST_PER_MONTH=0

# Yahoo Finance Performance Optimization
YAHOO_FINANCE_CONNECTION_POOL_SIZE=15
YAHOO_FINANCE_KEEPALIVE_TIMEOUT=30
YAHOO_FINANCE_MAX_RETRIES=2
YAHOO_FINANCE_BACKOFF_FACTOR=1.2
YAHOO_FINANCE_CIRCUIT_BREAKER_ENABLED=true
YAHOO_FINANCE_CIRCUIT_BREAKER_THRESHOLD=5
YAHOO_FINANCE_CIRCUIT_BREAKER_TIMEOUT=60

# === OPTIMIZED DATA CACHING CONFIGURATION ===
CACHE_ENABLED=true
CACHE_SIZE_LIMIT=2000
CACHE_QUOTES_TTL_SECONDS=1
CACHE_HISTORICAL_TTL_SECONDS=300
CACHE_INDICATORS_TTL_SECONDS=600
CACHE_CLEANUP_INTERVAL_SECONDS=3600

# Advanced caching features
CACHE_COMPRESSION_ENABLED=true
CACHE_DEDUPLICATION_ENABLED=true
CACHE_PRELOADING_ENABLED=true
CACHE_WARMUP_ENABLED=true
CACHE_STATISTICS_ENABLED=true

# Cache performance optimization
CACHE_HIT_RATE_TARGET=85
CACHE_MEMORY_LIMIT_MB=500
CACHE_DISK_LIMIT_MB=1000
CACHE_CLEANUP_THRESHOLD=0.9
CACHE_EVICTION_POLICY=LRU

# === OPTIMIZED FAILOVER CONFIGURATION ===
FAILOVER_ENABLED=true
FAILOVER_MAX_CONSECUTIVE_FAILURES=5
FAILOVER_COOLDOWN_SECONDS=60
FAILOVER_NOTIFICATION_ENABLED=true

# Advanced failover features
FAILOVER_HEALTH_CHECK_INTERVAL=30
FAILOVER_AUTO_RECOVERY=true
FAILOVER_GRACEFUL_DEGRADATION=true
FAILOVER_LOAD_BALANCING=true
FAILOVER_CIRCUIT_BREAKER=true

# === OPTIMIZED DAILY CALL DISTRIBUTION STRATEGY ===
# Pre-Market (4:30 AM - 9:30 AM)
PRE_MARKET_ALPHA_VANTAGE_CALLS=150
PRE_MARKET_ETRADE_CALLS=0
PRE_MARKET_YAHOO_CALLS=unlimited

# Market Open (9:30 AM - 11:30 AM)
MARKET_OPEN_ALPHA_VANTAGE_CALLS=300
MARKET_OPEN_ETRADE_CALLS=continuous
MARKET_OPEN_YAHOO_CALLS=unlimited

# Mid-Day (11:30 AM - 2:00 PM)
MID_DAY_ALPHA_VANTAGE_CALLS=300
MID_DAY_ETRADE_CALLS=continuous
MID_DAY_YAHOO_CALLS=unlimited

# Late Day (2:00 PM - 4:00 PM)
LATE_DAY_ALPHA_VANTAGE_CALLS=150
LATE_DAY_ETRADE_CALLS=continuous
LATE_DAY_YAHOO_CALLS=unlimited

# After Hours (4:00 PM - 9:00 PM)
AFTER_HOURS_ALPHA_VANTAGE_CALLS=300
AFTER_HOURS_ETRADE_CALLS=0
AFTER_HOURS_YAHOO_CALLS=unlimited

# === OPTIMIZATION SETTINGS ===
BATCH_REQUEST_ENABLED=true
BATCH_SIZE_LIMIT=50
PARALLEL_PROCESSING_ENABLED=true
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT_SECONDS=30

# Advanced optimization features
ENABLE_REQUEST_BATCHING=true
ENABLE_RESPONSE_CACHING=true
ENABLE_CONNECTION_REUSE=true
ENABLE_HTTP_KEEPALIVE=true
ENABLE_COMPRESSION=true

# Performance tuning
MAX_CONCURRENT_CONNECTIONS=20
CONNECTION_TIMEOUT_SECONDS=10
READ_TIMEOUT_SECONDS=30
WRITE_TIMEOUT_SECONDS=30
KEEPALIVE_TIMEOUT_SECONDS=30

# === MONITORING CONFIGURATION ===
CALL_MONITORING_ENABLED=true
PERFORMANCE_TRACKING_ENABLED=true
ALERT_ON_HIGH_USAGE=true
ALERT_ON_FAILOVER=true
DAILY_REPORT_ENABLED=true

# Advanced monitoring
LATENCY_MONITORING_ENABLED=true
THROUGHPUT_MONITORING_ENABLED=true
ERROR_RATE_MONITORING_ENABLED=true
CACHE_EFFICIENCY_MONITORING_ENABLED=true
COST_MONITORING_ENABLED=true

# === DATA QUALITY SETTINGS ===
MIN_VOLUME_THRESHOLD=100000
MAX_SPREAD_PERCENTAGE=0.5
MIN_PRICE_THRESHOLD=5.0
MAX_PRICE_THRESHOLD=1000.0
DATA_VALIDATION_ENABLED=true

# Advanced data quality features
DATA_SANITIZATION_ENABLED=true
DATA_NORMALIZATION_ENABLED=true
DATA_COMPLETENESS_CHECK=true
DATA_CONSISTENCY_CHECK=true
DATA_FRESHNESS_CHECK=true

# === HISTORICAL DATA CONFIGURATION ===
HISTORICAL_DATA_LOOKBACK_DAYS=30
HISTORICAL_DATA_TIMEFRAME=1min
HISTORICAL_DATA_CACHE_ENABLED=true
HISTORICAL_DATA_COMPRESSION=true

# Historical data optimization
HISTORICAL_DATA_BATCH_SIZE=100
HISTORICAL_DATA_PARALLEL_WORKERS=4
HISTORICAL_DATA_CACHE_TTL=3600
HISTORICAL_DATA_COMPRESSION_LEVEL=6

# === TECHNICAL INDICATORS CONFIGURATION ===
TECHNICAL_INDICATORS_ENABLED=true
DEFAULT_INDICATORS=RSI,MACD,SMA,EMA,ATR,BBANDS
INDICATOR_CALCULATION_CACHE=true
INDICATOR_REFRESH_INTERVAL_SECONDS=300

# Technical indicators optimization
INDICATOR_CACHE_SIZE=1000
INDICATOR_CACHE_TTL=600
INDICATOR_PARALLEL_CALCULATION=true
INDICATOR_BATCH_SIZE=50

# === MARKET SCANNING CONFIGURATION ===
MARKET_SCAN_ENABLED=true
MARKET_SCAN_INTERVAL_SECONDS=300
MARKET_SCAN_BATCH_SIZE=50
MARKET_SCAN_CRITERIA_FILE=data/scan_criteria.json

# Market scanning optimization
MARKET_SCAN_PARALLEL_WORKERS=4
MARKET_SCAN_CACHE_TTL=180
MARKET_SCAN_MEMORY_LIMIT_MB=256
MARKET_SCAN_PRIORITY_QUEUE=true

# === COST MANAGEMENT ===
TOTAL_MONTHLY_COST=100
COST_TRACKING_ENABLED=true
ALPHA_VANTAGE_COST_PER_MONTH=50
ETRADE_COST_PER_MONTH=0
YAHOO_COST_PER_MONTH=0
GOOGLE_CLOUD_COST_PER_MONTH=50

# Cost optimization
COST_ALERT_THRESHOLD=0.8
COST_AUTO_OPTIMIZATION=true
COST_BUDGET_ALERTS=true
COST_TREND_ANALYSIS=true

# === PERFORMANCE TARGETS ===
TARGET_LATENCY_MS=100
TARGET_CACHE_HIT_RATE=80
TARGET_SUCCESS_RATE=99
TARGET_DAILY_CALLS_ETRADE=1180
TARGET_DAILY_CALLS_ALPHA_VANTAGE=1200

# Advanced performance targets
TARGET_THROUGHPUT_RPS=100
TARGET_MEMORY_USAGE_MB=1024
TARGET_CPU_USAGE_PCT=70
TARGET_ERROR_RATE_PCT=1

# === EMERGENCY SETTINGS ===
EMERGENCY_FALLBACK_ENABLED=true
EMERGENCY_DATA_PROVIDER=yfinance
EMERGENCY_NOTIFICATION_ENABLED=true
EMERGENCY_STOP_TRADING=true

# Emergency optimization
EMERGENCY_CACHE_CLEAR=true
EMERGENCY_CONNECTION_RESET=true
EMERGENCY_MODE_SIMPLIFIED=true
EMERGENCY_LOGGING_LEVEL=ERROR
