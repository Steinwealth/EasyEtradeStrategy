# === Data Provider Configuration ===
# ETRADE-first approach with intelligent fallback strategy
# Last updated: 2025-01-27

# === PROVIDER PRIORITY ===
DATA_PRIORITY=etrade,alpha_vantage,polygon,yfinance
PRIMARY_DATA_PROVIDER=etrade
FALLBACK_PROVIDER=alpha_vantage
BACKUP_PROVIDER=polygon
EMERGENCY_PROVIDER=yfinance

# === ETRADE CONFIGURATION ===
ETRADE_ENABLED=true
ETRADE_REAL_TIME_QUOTES=true
ETRADE_BATCH_QUOTES=true
ETRADE_DAILY_CALL_LIMIT=1180
ETRADE_RATE_LIMIT_CALLS_PER_MINUTE=100
ETRADE_TIMEOUT_SECONDS=10
ETRADE_RETRY_ATTEMPTS=3
ETRADE_COST_PER_MONTH=0

# ETRADE Account Requirements
ETRADE_MIN_BALANCE=1000
ETRADE_MARKET_DATA_AGREEMENTS=true
ETRADE_PROFESSIONAL_STATUS=false

# === ALPHA VANTAGE CONFIGURATION ===
ALPHA_VANTAGE_ENABLED=true
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here
ALPHA_VANTAGE_DAILY_LIMIT=1200
ALPHA_VANTAGE_RATE_LIMIT_MS=500
ALPHA_VANTAGE_TIMEOUT_SECONDS=15
ALPHA_VANTAGE_RETRY_ATTEMPTS=2
ALPHA_VANTAGE_COST_PER_MONTH=50

# Alpha Vantage Usage Strategy
ALPHA_VANTAGE_HISTORICAL_DATA=true
ALPHA_VANTAGE_TECHNICAL_INDICATORS=true
ALPHA_VANTAGE_REAL_TIME_FALLBACK=true
ALPHA_VANTAGE_PRE_MARKET_SCANNING=true

# === YAHOO FINANCE CONFIGURATION ===
YAHOO_FINANCE_ENABLED=true
YAHOO_FINANCE_RATE_LIMIT_MS=200
YAHOO_FINANCE_TIMEOUT_SECONDS=10
YAHOO_FINANCE_RETRY_ATTEMPTS=2
YAHOO_FINANCE_DELAYED_DATA=true
YAHOO_FINANCE_COST_PER_MONTH=0

# === DATA CACHING CONFIGURATION ===
CACHE_ENABLED=true
CACHE_SIZE_LIMIT=1000
CACHE_QUOTES_TTL_SECONDS=1
CACHE_HISTORICAL_TTL_SECONDS=300
CACHE_INDICATORS_TTL_SECONDS=600
CACHE_CLEANUP_INTERVAL_SECONDS=3600

# === FAILOVER CONFIGURATION ===
FAILOVER_ENABLED=true
FAILOVER_MAX_CONSECUTIVE_FAILURES=5
FAILOVER_COOLDOWN_SECONDS=60
FAILOVER_NOTIFICATION_ENABLED=true

# === DAILY CALL DISTRIBUTION STRATEGY ===
# Pre-Market (4:30 AM - 9:30 AM)
PRE_MARKET_ALPHA_VANTAGE_CALLS=150
PRE_MARKET_ETRADE_CALLS=0

# Market Open (9:30 AM - 11:30 AM)
MARKET_OPEN_ALPHA_VANTAGE_CALLS=300
MARKET_OPEN_ETRADE_CALLS=continuous

# Mid-Day (11:30 AM - 2:00 PM)
MID_DAY_ALPHA_VANTAGE_CALLS=300
MID_DAY_ETRADE_CALLS=continuous

# Late Day (2:00 PM - 4:00 PM)
LATE_DAY_ALPHA_VANTAGE_CALLS=150
LATE_DAY_ETRADE_CALLS=continuous

# After Hours (4:00 PM - 9:00 PM)
AFTER_HOURS_ALPHA_VANTAGE_CALLS=300
AFTER_HOURS_ETRADE_CALLS=0

# === OPTIMIZATION SETTINGS ===
BATCH_REQUEST_ENABLED=true
BATCH_SIZE_LIMIT=50
PARALLEL_PROCESSING_ENABLED=true
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT_SECONDS=30

# === MONITORING CONFIGURATION ===
CALL_MONITORING_ENABLED=true
PERFORMANCE_TRACKING_ENABLED=true
ALERT_ON_HIGH_USAGE=true
ALERT_ON_FAILOVER=true
DAILY_REPORT_ENABLED=true

# === DATA QUALITY SETTINGS ===
MIN_VOLUME_THRESHOLD=100000
MAX_SPREAD_PERCENTAGE=0.5
MIN_PRICE_THRESHOLD=5.0
MAX_PRICE_THRESHOLD=1000.0
DATA_VALIDATION_ENABLED=true

# === HISTORICAL DATA CONFIGURATION ===
HISTORICAL_DATA_LOOKBACK_DAYS=30
HISTORICAL_DATA_TIMEFRAME=1min
HISTORICAL_DATA_CACHE_ENABLED=true
HISTORICAL_DATA_COMPRESSION=true

# === TECHNICAL INDICATORS CONFIGURATION ===
TECHNICAL_INDICATORS_ENABLED=true
DEFAULT_INDICATORS=RSI,MACD,SMA,EMA,ATR,BBANDS
INDICATOR_CALCULATION_CACHE=true
INDICATOR_REFRESH_INTERVAL_SECONDS=300

# === MARKET SCANNING CONFIGURATION ===
MARKET_SCAN_ENABLED=true
MARKET_SCAN_INTERVAL_SECONDS=300
MARKET_SCAN_BATCH_SIZE=50
MARKET_SCAN_CRITERIA_FILE=data/scan_criteria.json

# === COST MANAGEMENT ===
TOTAL_MONTHLY_COST=100
COST_TRACKING_ENABLED=true
ALPHA_VANTAGE_COST_PER_MONTH=50
ETRADE_COST_PER_MONTH=0
YAHOO_COST_PER_MONTH=0
GOOGLE_CLOUD_COST_PER_MONTH=50

# === PERFORMANCE TARGETS ===
TARGET_LATENCY_MS=100
TARGET_CACHE_HIT_RATE=80
TARGET_SUCCESS_RATE=99
TARGET_DAILY_CALLS_ETRADE=1180
TARGET_DAILY_CALLS_ALPHA_VANTAGE=1200

# === EMERGENCY SETTINGS ===
EMERGENCY_FALLBACK_ENABLED=true
EMERGENCY_DATA_PROVIDER=yfinance
EMERGENCY_NOTIFICATION_ENABLED=true
EMERGENCY_STOP_TRADING=true